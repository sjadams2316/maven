# 2026-02-08 Session Notes

## GitHub Setup
- Connected workspace to GitHub: https://github.com/sjadams2316/maven
- Created Personal Access Token with repo scope
- Cleaned up node_modules and API keys from git history
- Configured git identity as "Sam Adams"

## UI Polish
- **Glowing Oracle Ball**: Added breathing/pulsing animation to floating chat button
  - 3-second animation cycle
  - Purple glow radiates outward (box-shadow layers)
  - Subtle scale pulse (1.0 â†’ 1.05)
  - Changed icon to ðŸ”® crystal ball

- **Reorganized Dashboard Tools**:
  - **Primary Tools** (5 visible): Oracle, Portfolio Lab, Fragility Index, Tax-Loss Harvester, Financial Snapshot
  - **Additional Tools** (collapsible, 8 more): Social Security, Retirement Optimizer, What-If Scenarios, Roth Converter, Rebalancing, Risk Analysis, Link Accounts, Collaborative Planning
  - Market Fragility Index promoted to Primary per Sam's feedback

## Business Strategy: Maven Tiering
Created `maven/docs/TIERING.md` defining three tiers:

1. **Maven Basic** (Free)
   - Top of funnel, lead gen
   - Limited features, manual entry only
   
2. **Maven Pro** ($29-49/month)
   - DIY investors who want tools
   - Full features, Plaid linking
   - Conversion funnel to Partners
   
3. **Maven Partners** (Included in AUM)
   - **This is the business** â€” RIA clients
   - Schwab direct link, advisor curation
   - White-glove onboarding with welcome card
   - "You see everything, they see what you want"

Key innovation: **Advisor-controlled UX** â€” advisors can curate which insights clients see (show/hide/contextualize). Solves the "client sees scary risk" problem.

Morgan Stanley / E*Trade comp: Pro users are a prospecting funnel that converts to Partners when life events happen.

## Advisor Dashboard (MAJOR BUILD)
Built complete advisor control plane at `/advisor`:

### Pages Created:
1. **`/advisor`** - Advisor home
2. **`/advisor/clients`** - Client list
3. **`/advisor/clients/[id]`** - Client detail with 5 tabs
4. **`/advisor/clients/[id]/prep`** - Meeting prep
5. **`/advisor/insights`** - Global insights view
6. **`/advisor/settings`** - Firm settings
7. **`/advisor/analytics`** - Practice analytics
8. **`/advisor/clients/invite`** - Client invite flow

## Morning Build Session

**Client Flow:**
- `/join/[code]` - Partner onboarding

**User Features:**
- `/goals` â€” Financial goals tracker
- `/family` â€” Multi-generational dashboard
- `/crypto` â€” Crypto holdings with live data
- `/documents` â€” Document vault
- `/accounts/link` â€” Plaid-style account linking
- `/home` â€” Marketing landing page
- `/onboarding` â€” 5-step new user flow
- `/settings`, `/notifications`, `/activity`, `/billing`, `/refer`, `/changelog`
- Tax planning, income tracker, spending tracker, estate planning, insurance
- Mobile nav, quick actions

---

## Afternoon Build Session (12:00+ EST)

Built 12 more pages:

### Compliance & Regulatory:
- `/compliance` â€” Compliance task tracker (agreements, questionnaires, reviews, disclosures, audit log)
- `/compliance/questionnaire` â€” Interactive risk tolerance questionnaire with scoring and suggested allocation

### Portfolio Management:
- `/performance` â€” Performance attribution (returns by holding, factor attribution, alpha analysis, risk metrics)
- `/rebalance` â€” Full rebalancing tool (drift detection, tax-aware mode, trade preview, model portfolios)
- `/benchmarks` â€” Compare portfolio vs SPY, VTI, QQQ, bonds, Bitcoin with alpha calculations
- `/trade` â€” Trade center (order ticket, positions, open orders, recent fills)

### Tax & Planning:
- `/asset-location` â€” Asset location optimizer (tax drag analysis, optimal placement recommendations)
- `/monte-carlo` â€” Monte Carlo retirement simulator (1,000+ scenarios, success rate, fan chart)
- `/income` â€” Income planner (dividend/interest/SS/pension tracking, retirement income projections)

### Alerts & Reports:
- `/alerts` â€” Alert center (fragility, drift, tax, earnings, dividends, compliance alerts)
- `/alerts/settings` â€” Configure alert thresholds, channels (email/push/SMS), quiet hours, price alerts
- `/reports` â€” Report generator (performance, holdings, tax, client review, risk, ESG templates)

**Total new code:** ~150KB across 12 pages

## Bug Fixes

### Oracle Claude Integration
- **Issue:** Oracle sometimes falls back to generic responses
- **Root cause:** Missing `ANTHROPIC_API_KEY` in `.env.local`
- **Fix:** Added placeholder in .env.local, updated fallback to clearly indicate when in fallback mode, updated UI to say "Powered by Claude"
- **Action needed:** Sam needs to add his Anthropic API key to `maven/apps/dashboard/.env.local`

### Bitcoin Price
- **Issue:** Sam thought BTC price was incorrect/hardcoded
- **Reality:** BTC price IS live from Polygon API â€” $69,289 is the actual current price
- Data sources confirmed working: Yahoo (indices), Polygon/CoinGecko (crypto)

---

## Git Commits Today
- Initial morning commits (from previous session)
- "Add 12 new pages: compliance, risk questionnaire, performance attribution, rebalance, benchmarks, trade center, asset location, monte carlo, income planner, alerts + settings, reports"

## Total Pages Built: 36+ pages
## Total Lines of Code: ~15,000+

ðŸš€ðŸš€ðŸš€ Massive build weekend
